<div class="students-table table-responsive">

  <table class="table table-striped table-bordered table-hover table-sm">
    <thead class="thead-light text-center">
      <tr>
        <th scope="col">
          {{fa-icon 'hashtag'}}
          {{bs-tooltip title='Anmeldenummer/Status'}}
        </th>
        <th scope="col" title="Student hat bezahlt">
          {{fa-icon 'money-bill-wave'}}
          {{bs-tooltip title='Student hat bezahlt'}}
        </th>
        <th scope="col">Name</th>
        <th scope="col">Geburtstag</th>
        <th scope="col">Alter</th>
        <th scope="col">Fach</th>
        <th scope="col">Rat</th>
        <th scope="col">Anmeldedatum</th>
        <th scope="col">Hinweise</th>
        <th scope="col">
          {{fa-icon 'cogs'}}
          {{bs-tooltip title='Einstellungen'}}
        </th>
      </tr>
    </thead>

    <tbody>

      {{#each @students as |student|}}

        <tr class="student-row">

          <th scope="row" class="text-right">
            {{student.registrationNumber}}:

            {{#if student.isBooked}}
              {{fa-icon 'user-check' classNames='text-success'}}
            {{else}}
              {{fa-icon 'user-clock' classNames='text-warning'}}
            {{/if}}

            {{!-- TODO:
              {{#if student.isCancelled}}
                {{fa-icon 'user-lock' classNames='text-danger'}}
              {{/if}}
            --}}
          </th>

          <td class="text-center">
            {{input-switch
              checked=student.hasPayed
              onchange=(action @update student 'hasPayed')}}
          </td>

          <td>
            {{editable-value value=student.fullName onSave=(action @update student "fullName")}}
          </td>

          <td class="text-right">{{moment-format student.dateOfBirth 'L'}}</td>

          <td class="text-right">{{student.age}}</td>

          <td>{{student.subject}}</td>

          <td>
            {{editable-value value=student.councillor onSave=(action @update student 'councillor')}}
          </td>

          <td class="text-right">{{moment-format student.registrationDate 'DD. MMMM'}}</td>

          <td>{{editable-value value=student.comment onSave=(action @update student "comment")}}</td>

          <td class="text-right">
            {{#unless student.isBooked}}

              {{#bs-button type='success' size='sm' title='Anmelden' onClick=(action @book student)}}
                {{fa-icon 'user-check'}}
                {{bs-tooltip title='Anmelden'}}
              {{/bs-button}}

            {{else}}

              {{#bs-button type='danger' size='sm' title='Abmelden' onClick=(action @unbook student)}}
                {{fa-icon 'user-minus'}}
                {{bs-tooltip title='Abmelden'}}
              {{/bs-button}}

            {{/unless}}
          </td>

        </tr>

      {{/each}}

    </tbody>

  </table>

</div>
