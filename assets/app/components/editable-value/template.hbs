<div class="editable-value {{if isEditing 'is-editing'}} {{if isPending 'is-pending'}}">
  {{#unless isEditing}}

    {{#if hasBlock}}
      {{yield}}
    {{else}}
      <span ondblclick={{action 'edit'}} onkeyup={{action 'onKeyup'}} tabindex="0">
        {{@value}}
      </span>
    {{/if}}

    <a class="toggle-mode" onclick={{action "edit"}}>
      {{fa-icon 'pencil-alt'}}
      {{bs-tooltip title='Bearbeiten'}}
    </a>

  {{else}}

    {{#if hasBlock}}

      {{yield (hash
        isEditing=true
        datepicker=(component 'editable-value/datepicker' value=@value isPending=isPending onChange=(action (mut newValue)) onEscape=(action 'cancel') onReturn=(action 'save'))
        select=(component 'editable-value/select' value=@value onChange=(action (mut newValue)) onEscape=(action 'cancel') onReturn=(action 'save'))
        text=(component 'editable-value/text' value=@value onChange=(action (mut newValue)) onEscape=(action 'cancel') onReturn=(action 'save')))}}

    {{else}}

      {{editable-value/text value=@value disabled=isPending
        onChange=(action (mut newValue)) onEscape=(action 'cancel') onReturn=(action 'save')}}

    {{/if}}

    {{#if isPending}}
      {{fa-icon 'compass' prefix='far' spin=true classNames='toggle-mode'}}
    {{else}}
      <a class="toggle-mode save" onclick={{action "save"}}>
        {{fa-icon 'save' prefix='far'}}
        {{bs-tooltip title='Speichern'}}
      </a>

      <a class="toggle-mode" onclick={{action "cancel"}}>
        {{fa-icon 'times'}}
        {{bs-tooltip title='Abbrechen'}}
      </a>
    {{/if}}

  {{/unless}}
</div>